<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>SALSA by tuwiendsg</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">SALSA</h1>
        <p class="header">A Framework for Dynamic Orchestration and Configuration Application on Multi-cloud</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/tuwiendsg/SALSA/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/tuwiendsg/SALSA/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/tuwiendsg/SALSA">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/tuwiendsg">tuwiendsg</a></p>


      </header>
      <section>
        <h1>
<a name="abstract" class="anchor" href="#abstract"><span class="octicon octicon-link"></span></a>Abstract</h1>

<p>Cloud computing technologies have been intensively exploited in development and management of distributed applications. Applications are constructed by different types of software, is deployed on multiple cloud providers, which have various ways to configure, and can change dynamically at runtime. Due to this complexity, we need a solution to reduce the configuration efforts by automating the complex tasks and providing fine-grained configuration features. In this paper, we introduce the concept of \textit{multi-level configuration}, a novel approach for the configuration of complex applications on multi-cloud. Our solution enables the fine-grained configuration at different abstraction levels and support the dynamic change of applications at runtime.</p>

<h1>
<a name="overview" class="anchor" href="#overview"><span class="octicon octicon-link"></span></a>Overview</h1>

<p>SALSA is a framework that provides automatic features for configuring and orchestrating distributed applications on multi cloud system. SALSA can be used by application providers and application controllers to manage the application at deployment time and at runtime. The framework enables the configuration on different levels of application structure and deployment stacks, which provide fine-grained or full view about the application.</p>

<p><img src="http://tuwiendsg.github.io/SALSA/images/informationModel.png" alt="Information model"></p>

<p>On the application structure, SALSA supports the configuration of the whole application, a group of components or a single component, which are represented by the cloud service, service topology, service unit and service instance. On the deployment stacks, SALSA supports the configuration on different stacks, including the virtual machine, the application container (e.g. docker), the web container (e.g. Tomcat) and the application.</p>

<p>The architecture of SALSA contain 3 main parts. The Center Configuration Service, the Local Configurator and the Information services. We developed the components for the Center Configuration Service and the Local Configurator, which support the based functionality of the framework. The Information Service is under development.</p>

<p>[architecture]()
<a href="url"><img src="http://tuwiendsg.github.io/SALSA/images/Architecture.png" align="center" width="200"></a></p>

<h1>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h1>

<h2>
<a name="application-description" class="anchor" href="#application-description"><span class="octicon octicon-link"></span></a>Application description</h2>

<p>Below is an example of description of the Cassandra cluster configuration using TOSCA description. The TOSCA contains some SALSA specific definition for node type and artifact type, and the custom Properties.</p>

<div class="highlight highlight-XML"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;tosca:Definitions</span> <span class="na">xmlns:tosca=</span><span class="s">"http://docs.oasis-open.org/tosca/ns/2011/12"</span> <span class="na">xmlns:salsa=</span><span class="s">"http://example.com"</span> <span class="na">id=</span><span class="s">"CassandraApp"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tosca:ServiceTemplate</span> <span class="na">id=</span><span class="s">"CassandraTopology"</span><span class="nt">&gt;</span>      
        <span class="nt">&lt;tosca:TopologyTemplate&gt;</span>        
            <span class="nt">&lt;tosca:NodeTemplate</span> <span class="na">id=</span><span class="s">"CassandraSeed"</span>  <span class="na">name=</span><span class="s">"Cassandra seed node"</span> <span class="na">type=</span><span class="s">"salsa:software"</span> <span class="na">minInstances=</span><span class="s">"1"</span> <span class="na">maxInstances=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;tosca:DeploymentArtifacts&gt;</span>
                    <span class="nt">&lt;tosca:DeploymentArtifact</span> <span class="na">artifactType=</span><span class="s">"salsa:sh"</span> <span class="na">name=</span><span class="s">"Deployment script"</span> <span class="na">artifactRef=</span><span class="s">"deployCassandraSeed"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/tosca:DeploymentArtifacts&gt;</span>
            <span class="nt">&lt;/tosca:NodeTemplate&gt;</span>

            <span class="nt">&lt;tosca:NodeTemplate</span> <span class="na">id=</span><span class="s">"CassandraNode"</span> <span class="na">name=</span><span class="s">"Cassandra data node"</span> <span class="na">type=</span><span class="s">"salsa:software"</span> <span class="na">maxInstances=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;tosca:DeploymentArtifacts&gt;</span>
                    <span class="nt">&lt;tosca:DeploymentArtifact</span> <span class="na">artifactType=</span><span class="s">"salsa:sh"</span> <span class="na">name=</span><span class="s">"Deployment script"</span> <span class="na">artifactRef=</span><span class="s">"deployCassandraNode"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/tosca:DeploymentArtifacts&gt;</span>
            <span class="nt">&lt;/tosca:NodeTemplate&gt;</span>

            <span class="nt">&lt;tosca:NodeTemplate</span> <span class="na">type=</span><span class="s">"salsa:os"</span> <span class="na">id=</span><span class="s">"OS_Datanode"</span> <span class="na">minInstances=</span><span class="s">"1"</span> <span class="na">maxInstances=</span><span class="s">"5"</span><span class="nt">&gt;</span>
                 <span class="nt">&lt;tosca:Properties&gt;</span>
                                <span class="nt">&lt;MappingProperties&gt;</span>                     
                        <span class="nt">&lt;MappingProperty</span> <span class="na">type=</span><span class="s">"os"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"instanceType"</span><span class="nt">&gt;</span>000000960<span class="nt">&lt;/property&gt;</span>
                            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"provider"</span><span class="nt">&gt;</span>dsg@openstack<span class="nt">&lt;/property&gt;</span> 
                            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"baseImage"</span><span class="nt">&gt;</span>8f1428ac-f239-42e0-ab35-137f6e234101<span class="nt">&lt;/property&gt;</span>
                            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"packages"</span><span class="nt">&gt;</span>openjdk-7-jre<span class="nt">&lt;/property&gt;</span>
                            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"plugins"</span><span class="nt">&gt;</span>mela-dataservice<span class="nt">&lt;/property&gt;</span> 
                        <span class="nt">&lt;/MappingProperty&gt;</span>
                    <span class="nt">&lt;/MappingProperties&gt;</span>
                <span class="nt">&lt;/tosca:Properties&gt;</span>
            <span class="nt">&lt;/tosca:NodeTemplate&gt;</span>

            <span class="nt">&lt;tosca:RelationshipTemplate</span> <span class="na">name=</span><span class="s">"Relation"</span> <span class="na">type=</span><span class="s">"salsa:CONNECTTO"</span> <span class="na">id=</span><span class="s">"head2datanode"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;tosca:SourceElement</span> <span class="na">ref=</span><span class="s">"CassandraNode"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;tosca:TargetElement</span> <span class="na">ref=</span><span class="s">"CassandraSeed"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/tosca:RelationshipTemplate&gt;</span>

            <span class="nt">&lt;tosca:RelationshipTemplate</span> <span class="na">name=</span><span class="s">"Relation"</span> <span class="na">type=</span><span class="s">"salsa:HOSTON"</span> <span class="na">id=</span><span class="s">"datanode2os"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;tosca:SourceElement</span> <span class="na">ref=</span><span class="s">"CassandraNode"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;tosca:TargetElement</span> <span class="na">ref=</span><span class="s">"OS_Datanode"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/tosca:RelationshipTemplate&gt;</span>
        <span class="nt">&lt;/tosca:TopologyTemplate&gt;</span>
    <span class="nt">&lt;/tosca:ServiceTemplate&gt;</span>

<span class="c">&lt;!-- DEPLOYMENT ARTIFACTS DESCRIPTION --&gt;</span>   
    <span class="nt">&lt;tosca:ArtifactTemplate</span> <span class="na">id=</span><span class="s">"deployCassandraSeed"</span> <span class="na">type=</span><span class="s">"sh"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;tosca:ArtifactReferences&gt;</span>
            <span class="nt">&lt;tosca:ArtifactReference</span> <span class="na">reference=</span><span class="s">"http://128.130.172.215/salsa/upload/files/DaasService/deployCassandraSeed.sh"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tosca:ArtifactReferences&gt;</span>
    <span class="nt">&lt;/tosca:ArtifactTemplate&gt;</span>

    <span class="nt">&lt;tosca:ArtifactTemplate</span> <span class="na">id=</span><span class="s">"deployCassandraNode"</span> <span class="na">type=</span><span class="s">"sh"</span><span class="nt">&gt;</span>       
        <span class="nt">&lt;tosca:ArtifactReferences&gt;</span>
            <span class="nt">&lt;tosca:ArtifactReference</span> <span class="na">reference=</span><span class="s">"http://128.130.172.215/salsa/upload/files/DaasService/deployCassandraNode.sh"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tosca:ArtifactReferences&gt;</span>
    <span class="nt">&lt;/tosca:ArtifactTemplate&gt;</span>
<span class="nt">&lt;/tosca:Definitions&gt;</span>
</pre></div>

<h2>
<a name="api-calls" class="anchor" href="#api-calls"><span class="octicon octicon-link"></span></a>API calls</h2>

<p>Deploy a new application</p>

<blockquote>
<p>curl -X POST -d "The TOSCA description" <a href="http://example.org:8080/salsa-engine/rest/services/CassandraApp">http://example.org:8080/salsa-engine/rest/services/CassandraApp</a></p>
</blockquote>

<p>Get the runtime information in JSON:</p>

<blockquote>
<p>curl -X GET <a href="http://example.org:8080/salsa-engine/rest/services/CassandraApp">http://example.org:8080/salsa-engine/rest/services/CassandraApp</a></p>
</blockquote>

<p>Deploy 3 more Cassandra Node:</p>

<blockquote>
<p>curl -X POST <a href="http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/instance-count/3">http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/instance-count/3</a></p>
</blockquote>

<p>Delete the Cassandra Node instance with ID is 2</p>

<blockquote>
<p>curl -X DELETE <a href="http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/2">http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/2</a></p>
</blockquote>

<p>Execute a custom action on an instance (implementation is in progress)</p>

<blockquote>
<p>curl -X POST <a href="http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/1/actions/%7BactionName%7D">http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/1/actions/{actionName}</a></p>
</blockquote>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<ol>
<li><p><strong>Compile</strong> the source and check two artifact: salsa-engine.war and salsa-pioneer-vm-0.0.1-SNAPSHOT-executable.jar.</p></li>
<li><p><strong>Deploy</strong> the .war file on a Tomcat server and copy the .jar to a public place to be able to access, e.g. on a HTTP server.</p></li>
<li><p><strong>Configure SALSA parameter</strong>: /etc/salsa.engine.properties. An example of this configuration is on the <code>salsa-engine/src/main/resources</code> folder. Most of the parameters can be left as default, except the URL of the RESTful service and link to the salsa-pioneer artifact.</p></li>
<li><p><strong>Configure user parameter</strong>: /etc/cloudUserParameters.ini. This file configure the parameter to access to cloud providers which users registered. At current version, SALSA supports single user, then we maintain one configuration file for the whole system. As the parameter are different between providers, please refer to the example in the <code>resources</code> folder.</p></li>
</ol><h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<p><strong>Access to the web interface</strong> at the URL: <code>http://&lt;tomcatIP&gt;:8080/salsa-engine</code>. On this page, user can upload a TOSCA and executes the first deployment of the application. The web interface provides basic deploy and undeploy operations on different level of application structure.</p>

<p><strong>Access to the API</strong> at the URL <code>http://&lt;tomcatIP&gt;:8080/salsa-engine/rest</code> to have configuration features. The API can be referred on <a href="https://github.com/tuwiendsg/SALSA/tree/master/salsa-core-pom/salsa-common/src/main/java/at/ac/tuwien/dsg/cloud/salsa/common/interfaces">salsa-common/interfaces pakage</a>.</p>

<h1>
<a name="screenshots" class="anchor" href="#screenshots"><span class="octicon octicon-link"></span></a>Screenshots</h1>

<p>The graph shows the configuration status of the application.</p>

<p><img src="http://tuwiendsg.github.io/SALSA/images/screenshot1.png" alt="Screenshot1"></p>

<h1>
<a name="contact" class="anchor" href="#contact"><span class="octicon octicon-link"></span></a>Contact</h1>

<p>Please contact Le Duc Hung <a href="mailto:d.le@dsg.tuwien.ac.at">d.le@dsg.tuwien.ac.at</a> for any kind of issue.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
