1. Application description

Salsa uses Tosca for describing applications. An application is called a Tosca-Definition which contains a number of Service Template. In Salsa, a Service Template can be consider as an Atomic Service, which can be deployed separatedly. For example, an application has a database service and a business service which can connect to each other, but not be strictly depended, and can be deployed independently.

A Service Template has a Topology Template which describes its abstract structure. Following the idea of Tosca, all application components are considered as Tosca-Nodes, or Node Template. Node Templates have dependencies to others, and be described via Relationship Template. 

For execute the deployment, each Tosca-Nodes will have a number of Deployment-Artifacts which point to the Artifact repositories of the Node materials.

These templates can be defined by other Tosca-Elements such as Node-Types, Relationship-Types, Artifact-Types, etc.

2. Tosca addition for Salsa
As the property for NodeTemplate is Any, Salsa use some custom Properties for the description
2.1. Virtual Machine Node Properties
Below is an example of the custom VM Node deployment information Properties.

<VirtualMachineNodeProperties>
	<Provider>OPENSTACK</Provider> 
		<InstanceType>m1.small</InstanceType>	                        
		<Packages>
			<Package>openjdk-7-jre</Package>              
		</Packages>
</VirtualMachineNodeProperties>

2.2. Software Node Properties
For software node properties, we describe it as a Script Artifact. One properties can have multiple ScriptArtifactProperty, specifies different actions.

<ScriptArtifactProperty>
	<Action>deploy</Action>
	<ScriptLanguage>sh</ScriptLanguage>
	<PrimaryScript>deployseed.sh</PrimaryScript>
</ScriptArtifactProperty>

The Action can be either: DEPLOY, UNDEPLOY, CONFIGURE, START, STOP. 

2.3. Node Type
Tosca allow describe custom Node Types. Salsa will support a number of Node Type, which user can specific. Node types that pre-support in Salsa are:
 - type="OPERATING_SYSTEM" : This node type will provide an OS on an Virtual Machine. It will need VirtualMachineNodeProperties to be deployed.

2.4. Artifact Template Properties
Normally, artifact template contains only one artifact, such as one script. Salsa allow user to describe multiple deployment artifact, and has a custom properties to let the system know what to do with these artifact.

3. Deployment scripts
Each node will has a number of script related to deployment system actions (as described above). The deployment scripts is a BASH script. Salsa provide 2 command, which is available on all Salsas Vitual machine instance.
 - setcapa.sh
 - getcapa.sh
These commands will get and set node capabilities. These value will be controlled and synchronized by Salsa Center, ensure the logic of the deployment.

