{"name":"SALSA","tagline":"A Framework for Dynamic Orchestration and Configuration Application on Multi-cloud","body":"# Abstract\r\nCloud computing technologies have been intensively exploited in development and management of distributed applications. Applications are constructed by different types of software, is deployed on multiple cloud providers, which have various ways to configure, and can change dynamically at runtime. Due to this complexity, we need a solution to reduce the configuration efforts by automating the complex tasks and providing fine-grained configuration features. In this paper, we introduce the concept of \\textit{multi-level configuration}, a novel approach for the configuration of complex applications on multi-cloud. Our solution enables the fine-grained configuration at different abstraction levels and support the dynamic change of applications at runtime.\r\n\r\n# Overview\r\nSALSA is a framework that provides automatic features for configuring and orchestrating distributed applications on multi cloud system. SALSA can be used by application providers and application controllers to manage the application at deployment time and at runtime. The framework enables the configuration on different levels of application structure and deployment stacks, which provide fine-grained or full view about the application.\r\n\r\n![Information model](http://tuwiendsg.github.io/SALSA/images/informationModel.png)\r\n\r\nOn the application structure, SALSA supports the configuration of the whole application, a group of components or a single component, which are represented by the cloud service, service topology, service unit and service instance. On the deployment stacks, SALSA supports the configuration on different stacks, including the virtual machine, the application container (e.g. docker), the web container (e.g. Tomcat) and the application.\r\n\r\nThe architecture of SALSA contain 3 main parts. The Center Configuration Service, the Local Configurator and the Information services. We developed the components for the Center Configuration Service and the Local Configurator, which support the based functionality of the framework. The Information Service is under development.\r\n\r\n![architecture](http://tuwiendsg.github.io/SALSA/images/Architecture.png)\r\n\r\n# Examples\r\n## Application description\r\nBelow is an example of description of the Cassandra cluster configuration using TOSCA description. The TOSCA contains some SALSA specific definition for node type and artifact type, and the custom Properties.\r\n```XML\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<tosca:Definitions xmlns:tosca=\"http://docs.oasis-open.org/tosca/ns/2011/12\" xmlns:salsa=\"http://example.com\" id=\"CassandraApp\">\r\n\t<tosca:ServiceTemplate id=\"CassandraTopology\">\t\t\r\n\t\t<tosca:TopologyTemplate>\t\t\r\n\t\t\t<tosca:NodeTemplate id=\"CassandraSeed\" \tname=\"Cassandra seed node\" type=\"salsa:software\" minInstances=\"1\" maxInstances=\"1\">\r\n\t\t\t\t<tosca:DeploymentArtifacts>\r\n\t\t\t\t\t<tosca:DeploymentArtifact artifactType=\"salsa:sh\" name=\"Deployment script\" artifactRef=\"deployCassandraSeed\"/>\r\n\t\t\t\t</tosca:DeploymentArtifacts>\r\n\t\t\t</tosca:NodeTemplate>\r\n\t\t\t\r\n\t\t\t<tosca:NodeTemplate id=\"CassandraNode\" name=\"Cassandra data node\" type=\"salsa:software\" maxInstances=\"1\">\r\n\t\t\t\t<tosca:DeploymentArtifacts>\r\n\t\t\t\t\t<tosca:DeploymentArtifact artifactType=\"salsa:sh\" name=\"Deployment script\" artifactRef=\"deployCassandraNode\"/>\r\n\t\t\t\t</tosca:DeploymentArtifacts>\r\n\t\t\t</tosca:NodeTemplate>\r\n\r\n\t\t\t<tosca:NodeTemplate type=\"salsa:os\" id=\"OS_Datanode\" minInstances=\"1\" maxInstances=\"5\">\r\n\t\t\t\t <tosca:Properties>\r\n                    \t\t\t<MappingProperties>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<MappingProperty type=\"os\">\r\n\t\t\t\t\t\t\t<property name=\"instanceType\">000000960</property>\r\n\t\t\t\t\t\t\t<property name=\"provider\">dsg@openstack</property> \r\n\t\t\t\t\t\t\t<property name=\"baseImage\">8f1428ac-f239-42e0-ab35-137f6e234101</property>\r\n\t\t\t\t\t\t\t<property name=\"packages\">openjdk-7-jre</property>\r\n\t\t\t\t\t\t\t<property name=\"plugins\">mela-dataservice</property> \r\n\t\t\t\t\t\t</MappingProperty>\r\n\t\t\t\t\t</MappingProperties>\r\n                </tosca:Properties>\r\n\t\t\t</tosca:NodeTemplate>\r\n\r\n\t\t\t<tosca:RelationshipTemplate name=\"Relation\" type=\"salsa:CONNECTTO\" id=\"head2datanode\">\r\n\t\t\t\t<tosca:SourceElement ref=\"CassandraNode\"/>\r\n\t\t\t\t<tosca:TargetElement ref=\"CassandraSeed\"/>\r\n\t\t\t</tosca:RelationshipTemplate>\r\n\r\n\t\t\t<tosca:RelationshipTemplate name=\"Relation\" type=\"salsa:HOSTON\" id=\"datanode2os\">\r\n\t\t\t\t<tosca:SourceElement ref=\"CassandraNode\"/>\r\n\t\t\t\t<tosca:TargetElement ref=\"OS_Datanode\" />\r\n\t\t\t</tosca:RelationshipTemplate>\r\n\t\t</tosca:TopologyTemplate>\r\n\t</tosca:ServiceTemplate>\r\n\t\r\n<!-- DEPLOYMENT ARTIFACTS DESCRIPTION -->   \r\n\t<tosca:ArtifactTemplate id=\"deployCassandraSeed\" type=\"sh\">\r\n        <tosca:ArtifactReferences>\r\n            <tosca:ArtifactReference reference=\"http://128.130.172.215/salsa/upload/files/DaasService/deployCassandraSeed.sh\"/>\r\n        </tosca:ArtifactReferences>\r\n    </tosca:ArtifactTemplate>\r\n    \r\n    <tosca:ArtifactTemplate id=\"deployCassandraNode\" type=\"sh\">       \r\n        <tosca:ArtifactReferences>\r\n            <tosca:ArtifactReference reference=\"http://128.130.172.215/salsa/upload/files/DaasService/deployCassandraNode.sh\"/>\r\n        </tosca:ArtifactReferences>\r\n    </tosca:ArtifactTemplate>\r\n</tosca:Definitions>\r\n```\r\n## API calls\r\nDeploy a new application\r\n> curl -X POST -d \"The TOSCA description\" http://example.org:8080/salsa-engine/rest/services/CassandraApp\r\n\r\nGet the runtime information in JSON:\r\n> curl -X GET http://example.org:8080/salsa-engine/rest/services/CassandraApp\r\n\r\nDeploy 3 more Cassandra Node:\r\n> curl -X POST http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/instance-count/3\r\n\r\nDelete the Cassandra Node instance with ID is 2\r\n> curl -X DELETE http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/2\r\n\r\nExecute a custom action on an instance (implementation is in progress)\r\n> curl -X POST http://example.org:8080/salsa-engine/rest/services/CassandraApp/topologies/CassandraTopology/nodes/CassandraNode/instances/1/actions/{actionName}\r\n\r\n\r\n# Installation\r\n1. **Compile** the source and check two artifact: salsa-engine.war and salsa-pioneer-vm-0.0.1-SNAPSHOT-executable.jar.\r\n \r\n2. **Deploy** the .war file on a Tomcat server and copy the .jar to a public place to be able to access, e.g. on a HTTP server.\r\n\r\n3. **Configure SALSA parameter**: /etc/salsa.engine.properties. An example of this configuration is on the `salsa-engine/src/main/resources` folder. Most of the parameters can be left as default, except the URL of the RESTful service and link to the salsa-pioneer artifact.\r\n\r\n4. **Configure user parameter**: /etc/cloudUserParameters.ini. This file configure the parameter to access to cloud providers which users registered. At current version, SALSA supports single user, then we maintain one configuration file for the whole system. As the parameter are different between providers, please refer to the example in the `resources` folder.\r\n\r\n# Usage\r\n**Access to the web interface** at the URL: `http://<tomcatIP>:8080/salsa-engine`. On this page, user can upload a TOSCA and executes the first deployment of the application. The web interface provides basic deploy and undeploy operations on different level of application structure.\r\n\r\n**Access to the API** at the URL `http://<tomcatIP>:8080/salsa-engine/rest` to have configuration features. The API can be referred on [salsa-common/interfaces pakage](https://github.com/tuwiendsg/SALSA/tree/master/salsa-core-pom/salsa-common/src/main/java/at/ac/tuwien/dsg/cloud/salsa/common/interfaces).\r\n\r\n# Screenshots\r\nThe graph shows the configuration status of the application.\r\n\r\n![Screenshot1](http://tuwiendsg.github.io/SALSA/images/screenshot1.png)\r\n\r\n# Contact \r\nPlease contact Le Duc Hung [d.le@dsg.tuwien.ac.at](mailto:d.le@dsg.tuwien.ac.at) for any kind of issue.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}