<h3>Service Template</h3>
<div id="listTemplate">Loading ...</div>

<script type="text/javascript">

var listServiceSource="rest/proxy/getservicetemplatejsonlist";

$.ajaxSetup({
    cache: false
});

$.getJSON(listServiceSource,  function(json){ 
	//alert(json);
	$('#listTemplate').html(createTemplateListTable(json.services)).fadeIn();
});

function createTemplateListTable(data){
	 var str = '<table class="lightPro">';
	 var currentURL= [location.protocol, '//', location.host, location.pathname].join('');
     str += '<thead><tr>';
     
     // table body
     str += '<tbody>';
     for (var i = 0; i < data.length; i++) {
            str += (i % 2 == 0) ? '<tr class="alt">' : '<tr>';
            str += '<td>' + data[i].serviceId + '</td>';
            str += '<td><button type="button" onclick="deleteTemplate(\''+data[i].serviceId+'\')">Delete</button></td>';
            str += '<td><button type="button" onclick="updateNew(\''+data[i].serviceId+'\')">Update</button></td>';
            str += '<td><button type="button" onclick="newDeploy(\''+data[i].serviceId+'\')">New deployment</button></td>';            
            str += '</tr>';
         }
              
     str += '</tbody>'
     str += '</table>';
     return str;
}

function deleteTemplate(data){
	alert("Delete template !");	
}

function newDeploy(data){
	alert("New deploy: " + data);
}

function updateNew(data){
	alert("Update new");
}

</script>




