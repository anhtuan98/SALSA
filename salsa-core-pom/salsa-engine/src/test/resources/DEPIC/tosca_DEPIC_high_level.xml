<?xml version="1.0" encoding="UTF-8"?>
<tosca:Definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:elasticity="http://www.example.org/NewXMLSchema" 
	xmlns:tosca="http://docs.oasis-open.org/tosca/ns/2011/12"
	xmlns:salsa="http://example.com"
	xsi:schemaLocation="http://docs.oasis-open.org/tosca/ns/2011/12 TOSCA-v1.0.xsd"
	targetNamespace="http://tempuri.org"
	id="DEPIC-TOOL">
	
	<tosca:ServiceTemplate id="DemoApp">		
		<tosca:TopologyTemplate>
			<tosca:NodeTemplate id="MELA" type="software"></tosca:NodeTemplate>
			<tosca:NodeTemplate id="SYBL" type="software"></tosca:NodeTemplate>
			<tosca:NodeTemplate id="DataEndService" type="DataEndServiceTopology" />
			<tosca:NodeTemplate id="DataGovernance" type="DataGoveranceTopology" />
			<tosca:NodeTemplate id="DeploymentService" type="software"></tosca:NodeTemplate>
			
			<tosca:RelationshipTemplate id="SYBL_2_MELA" type="CONNECTTO">
				<tosca:SourceElement ref="SYBL" />
				<tosca:TargetElement ref="MELA" />
			</tosca:RelationshipTemplate>
			
			<tosca:RelationshipTemplate id="SYBL_2_DataGovernance" type="CONNECTTO">
				<tosca:SourceElement ref="SYBL" />
				<tosca:TargetElement ref="DataGovernance" />
			</tosca:RelationshipTemplate>
			
			<tosca:RelationshipTemplate id="SYBL_2_DataEndService" type="CONNECTTO">
				<tosca:SourceElement ref="SYBL" />
				<tosca:TargetElement ref="DataEndService" />
			</tosca:RelationshipTemplate>
			
			<tosca:RelationshipTemplate id="SYBL_2_DeploymentService" type="CONNECTTO">
				<tosca:SourceElement ref="SYBL" />
				<tosca:TargetElement ref="DeploymentService" />
			</tosca:RelationshipTemplate>
		</tosca:TopologyTemplate>
	</tosca:ServiceTemplate>

	<tosca:ServiceTemplate id="DataEndServiceTopology">
		<tosca:TopologyTemplate>		
			<tosca:NodeTemplate id="DataControllerServiceUnit"	name="DataControllerServiceUnit" type="software"
				minInstances="1" maxInstances="1">
				
				<tosca:Properties>
					<salsa:MappingProperties>
						<!-- Deployment information here -->
					</salsa:MappingProperties>
				</tosca:Properties>
				<tosca:Policies>
					<tosca:Policy name="SYBL Rule describe here" policyType="SYBLConstraint" />
				</tosca:Policies>
					
				<tosca:DeploymentArtifacts>
					<tosca:DeploymentArtifact artifactType="tosca:script" name="Deployment script" artifactRef="DataController_Artifact"/>
				</tosca:DeploymentArtifacts>
			</tosca:NodeTemplate>
			
			<tosca:NodeTemplate id="DataNodeServiceUnit" name="DataNodeServiceUnit" type="software" minInstances="1" maxInstances="unbounded">
				<tosca:DeploymentArtifacts>
					<tosca:DeploymentArtifact artifactType="tosca:script" name="Deployment script" artifactRef="DataNode_Artifact"/>
				</tosca:DeploymentArtifacts>
			</tosca:NodeTemplate>
						
			<tosca:RelationshipTemplate name="Relation" type="CONNECTTO" id="controller2data">
				<tosca:SourceElement ref="DataControllerServiceUnit"/>
				<tosca:TargetElement ref="DataNodeServiceUnit"/>
			</tosca:RelationshipTemplate>		
		</tosca:TopologyTemplate>
	</tosca:ServiceTemplate>
	

	<tosca:ServiceTemplate id="DataGoveranceTopology">
		<tosca:TopologyTemplate>
			<tosca:NodeTemplate id="DataGovernanceControler" type="software" name="Data Governance Controler">				
				<tosca:DeploymentArtifacts>				
                    <tosca:DeploymentArtifact name="Deploy data goverance controller" artifactType="tosca:script" artifactRef="tosca:DataGoverance_ServiceTopology_Artifact"/>                
				</tosca:DeploymentArtifacts>
			</tosca:NodeTemplate>
			
			<tosca:NodeTemplate id="DataGovernanceNode" type="software" name="Data Node">			
				<tosca:DeploymentArtifacts>				
                    <tosca:DeploymentArtifact name="Deploy governance node" artifactType="tosca:script" artifactRef="tosca:DataGovernanceNode_Artifact"/>                
				</tosca:DeploymentArtifacts>
			</tosca:NodeTemplate>
			
			<tosca:RelationshipTemplate name="Relation" type="CONNECTTO" id="DataGovernanceControler2DataGovernanceNode">
				<tosca:SourceElement ref="DataGovernanceControler" />
				<tosca:TargetElement ref="DataGovernanceNode" />
			</tosca:RelationshipTemplate>
												
		</tosca:TopologyTemplate>
	</tosca:ServiceTemplate>
	
	
	<tosca:ArtifactTemplate id="DataController_Artifact" type="tosca:script">
        <tosca:ArtifactReferences>
            <tosca:ArtifactReference reference="url/to/the/artifact"/>
        </tosca:ArtifactReferences>
    </tosca:ArtifactTemplate>
    
    <tosca:ArtifactTemplate id="DataNode_Artifact" type="tosca:script">       
        <tosca:ArtifactReferences>
            <tosca:ArtifactReference reference="url/to/the/artifact"/>
        </tosca:ArtifactReferences>
    </tosca:ArtifactTemplate>
    
    
    <tosca:ArtifactTemplate id="DataGoverance_ServiceTopology_Artifact" type="tosca:script">
        <tosca:ArtifactReferences>
            <tosca:ArtifactReference reference="url/to/the/artifact"/>
        </tosca:ArtifactReferences>
    </tosca:ArtifactTemplate>
    
    <tosca:ArtifactTemplate id="DataGovernanceNode_Artifact" type="tosca:script">       
        <tosca:ArtifactReferences>
            <tosca:ArtifactReference reference="url/to/the/artifact"/>
        </tosca:ArtifactReferences>
    </tosca:ArtifactTemplate>
	
	
</tosca:Definitions>
