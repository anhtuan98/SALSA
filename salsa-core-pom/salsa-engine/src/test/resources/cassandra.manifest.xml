<?xml version="1.0" encoding="UTF-8"?>
<Envelope>
	<!-- Not really used at the moment -->
	<KPISection />
	<!-- Not really used at the moment -->
	<PerformanceObjectiveSection />

	<!-- NEW FEATURE: note the entrypoint attribute -->
	<VirtualSystemCollection id="Test" entrypoint="frontend">

		<StartupSection>
			<Item id="seed" order="0" />
			<Item id="data" order="1" />
		</StartupSection>

		<VirtualSystem id="seed" min="1" max="1" initial="1" provider="OPENSTACK">
			<ProductSection>
				<Product>Seed server</Product>
				<Version>1.0</Version>

				<!-- VM Configuration -->
				<Property key="BASE_EMI" value="ami-00000163" />
				<Property key="INSTANCE_TYPE" value="m1.micro" />

				<!-- Security settings for the VM -->
				<Property key="SSH_KEY" value="Hungld" />
				<Property key="SECURITY_GROUP" value="default" />


				<Property key="STARTUP" type="string" value="java,cassandra-seed" />
				<Property key="USERDATA:INJECTED_HOSTNAME"
					cloudConfigurable="true" value="cassandra-seed@replicaNum" />
				<Property key="USERDATA:cassandra-seed.env.servicefqn"
					type="string" value="@serviceId" />
				<Property key="USERDATA:cassandra-seed.env.deployid" type="string"
					value="@UUID" />
				<Property key="USERDATA:cassandra-seed.env.name" type="string"
					value="seed" />
			</ProductSection>

		</VirtualSystem>

		<VirtualSystem id="data" min="1" max="1" initial="1" provider="STRATUSLAB">
			<ProductSection>
				<Product>Database Server</Product>
				<Version>1.0</Version>

				<!-- VM Configuration -->
				<Property key="BASE_EMI" value="ami-00000163" />
				<Property key="INSTANCE_TYPE" value="m1.small" />

				<!-- Security settings for the VM -->
				<Property key="SSH_KEY" value="Hungld" />
				<Property key="SECURITY_GROUP" value="default" />
				<Property key="STARTUP" type="string" value="cassandra-data" />
				<Property key="USERDATA:INJECTED_HOSTNAME"
					cloudConfigurable="true" value="cassandra-data@replicaNum" />
				<Property key="USERDATA:cassandra-data.env.servicefqn"
					type="string" value="@serviceId" />
				<Property key="USERDATA:cassandra-data.env.deployid" type="string"
					value="@UUID" />
				<Property key="USERDATA:cassandra-data.env.name" type="string"
					value="data" />

			</ProductSection>
		</VirtualSystem>

	</VirtualSystemCollection>
</Envelope>


